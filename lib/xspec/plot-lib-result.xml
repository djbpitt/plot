<?xml version="1.0" encoding="UTF-8"?>
<x:report xmlns:djb="http://www.obdurodon.org"
          xmlns:f="http://www.obdurodon.org/function-variables"
          xmlns:x="http://www.jenitennison.com/xslt/xspec"
          xmlns:xs="http://www.w3.org/2001/XMLSchema"
          stylesheet="file:/Users/djb/repos/plot/lib/plot-lib.xsl"
          date="2020-06-22T18:23:21.028-04:00"
          xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
   <x:scenario id="scenario1" xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
      <x:label>Scenario for testing function validate-points</x:label>
      <x:call function="djb:validate-points"/>
      <x:scenario id="scenario1-scenario1"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with valid input (at least three, no white-space, monotonic X)</x:label>
         <x:call>
            <x:param name="f:point-pairs" select="'1,2', '3,4', '5,6'"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}boolean('true')"/>
         <x:test id="scenario1-scenario1-expect1" successful="true">
            <x:label>Valid points (at least three, correct format, no white-space) should pass</x:label>
            <x:expect select="Q{http://www.w3.org/2001/XMLSchema}boolean('true')"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario1-scenario2"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with too few points</x:label>
         <x:call>
            <x:param name="f:point-pairs" select="'1,2', '3,4'"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         <x:test id="scenario1-scenario2-expect1" successful="true">
            <x:label>Fewer than three points should fail</x:label>
            <x:expect select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario1-scenario3"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with non-monotonic X</x:label>
         <x:call>
            <x:param name="f:point-pairs" select="'1,2', '5,4', '3,6'"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         <x:test id="scenario1-scenario3-expect1" successful="true">
            <x:label>Non-monotonic X should fail</x:label>
            <x:expect select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario1-scenario4"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with incorrect white-space</x:label>
         <x:call>
            <x:param name="f:point-pairs" select="'1, 2', '3,4', '5,6'"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         <x:test id="scenario1-scenario4-expect1" successful="true">
            <x:label>White space inside point should fail</x:label>
            <x:expect select="Q{http://www.w3.org/2001/XMLSchema}boolean('false')"/>
         </x:test>
      </x:scenario>
   </x:scenario>
   <x:scenario id="scenario2" xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
      <x:label>Scenario for testing function random-sequence</x:label>
      <x:call function="djb:random-sequence">
         <x:param name="count" select="100"/>
      </x:call>
      <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('0.5986167356916557'), Q{http://www.w3.org/2001/XMLSchema}double('0.868073398440779'), Q{http://www.w3.org/2001/XMLSchema}double('0.8208136705623141'), Q{http://www.w3.org/2001/XMLSchema}double('0.17100915292007546'), Q{http://www.w3.org/2001/XMLSchema}double('0.9626975563644925'), Q{http://www.w3.org/2001/XMLSchema}double('0.43782098833416194'), Q{http://www.w3.org/2001/XMLSchema}double('0.29057736135631296'), Q{http://www.w3.org/2001/XMLSchema}double('0.5021074124776645'), Q{http://www.w3.org/2001/XMLSchema}double('0.26631081463745365'), Q{http://www.w3.org/2001/XMLSchema}double('0.39768247066564366'), Q{http://www.w3.org/2001/XMLSchema}double('0.5052133717297898'), Q{http://www.w3.org/2001/XMLSchema}double('0.41141559635517133'), Q{http://www.w3.org/2001/XMLSchema}double('0.43572263418100066'), Q{http://www.w3.org/2001/XMLSchema}double('0.9112391241641118'), Q{http://www.w3.org/2001/XMLSchema}double('0.27025387136754564'), Q{http://www.w3.org/2001/XMLSchema}double('0.6029422047720655'), Q{http://www.w3.org/2001/XMLSchema}double('0.8665390909420304'), Q{http://www.w3.org/2001/XMLSchema}double('0.10908210066484836'), Q{http://www.w3.org/2001/XMLSchema}double('0.8528332703222677'), Q{http://www.w3.org/2001/XMLSchema}double('0.7413789353243474'), Q{http://www.w3.org/2001/XMLSchema}double('0.5655662276714921'), Q{http://www.w3.org/2001/XMLSchema}double('0.08683492766513246'), Q{http://www.w3.org/2001/XMLSchema}double('0.016620458819091244'), Q{http://www.w3.org/2001/XMLSchema}double('0.14283695774915084'), Q{http://www.w3.org/2001/XMLSchema}double('0.9371484574635128'), Q{http://www.w3.org/2001/XMLSchema}double('0.1829904666615083'), Q{http://www.w3.org/2001/XMLSchema}double('0.9455008620686668'), Q{http://www.w3.org/2001/XMLSchema}double('0.3972696285373736'), Q{http://www.w3.org/2001/XMLSchema}double('0.267494701538168'), Q{http://www.w3.org/2001/XMLSchema}double('0.7637665224595771'), Q{http://www.w3.org/2001/XMLSchema}double('0.14621071306249223'), Q{http://www.w3.org/2001/XMLSchema}double('0.5982244964963681'), Q{http://www.w3.org/2001/XMLSchema}double('0.9831270054947951'), Q{http://www.w3.org/2001/XMLSchema}double('0.8066848315037632'), Q{http://www.w3.org/2001/XMLSchema}double('0.5159266407143293'), Q{http://www.w3.org/2001/XMLSchema}double('0.9742633031770603'), Q{http://www.w3.org/2001/XMLSchema}double('0.4495634462075505'), Q{http://www.w3.org/2001/XMLSchema}double('0.7888886576388612'), Q{http://www.w3.org/2001/XMLSchema}double('0.24966037102359706'), Q{http://www.w3.org/2001/XMLSchema}double('0.5143231952010703'), Q{http://www.w3.org/2001/XMLSchema}double('0.4652496780772539'), Q{http://www.w3.org/2001/XMLSchema}double('0.7883876786118024'), Q{http://www.w3.org/2001/XMLSchema}double('0.3165448699132124'), Q{http://www.w3.org/2001/XMLSchema}double('0.07845520035202813'), Q{http://www.w3.org/2001/XMLSchema}double('0.40493424213286155'), Q{http://www.w3.org/2001/XMLSchema}double('0.8282443342960908'), Q{http://www.w3.org/2001/XMLSchema}double('0.5421594065036351'), Q{http://www.w3.org/2001/XMLSchema}double('0.5723001113969378'), Q{http://www.w3.org/2001/XMLSchema}double('0.8767492877321047'), Q{http://www.w3.org/2001/XMLSchema}double('0.087011567768712'), Q{http://www.w3.org/2001/XMLSchema}double('0.5218696277206645'), Q{http://www.w3.org/2001/XMLSchema}double('0.8209042084213704'), Q{http://www.w3.org/2001/XMLSchema}double('0.38712808046763625'), Q{http://www.w3.org/2001/XMLSchema}double('0.725234203725598'), Q{http://www.w3.org/2001/XMLSchema}double('0.7223732736923026'), Q{http://www.w3.org/2001/XMLSchema}double('0.434757238825622'), Q{http://www.w3.org/2001/XMLSchema}double('0.44333533020425'), Q{http://www.w3.org/2001/XMLSchema}double('0.9964695409734732'), Q{http://www.w3.org/2001/XMLSchema}double('0.27673842200031573'), Q{http://www.w3.org/2001/XMLSchema}double('0.6280448782772116'), Q{http://www.w3.org/2001/XMLSchema}double('0.45293256003763405'), Q{http://www.w3.org/2001/XMLSchema}double('0.9010588916240714'), Q{http://www.w3.org/2001/XMLSchema}double('0.3285833814296075'), Q{http://www.w3.org/2001/XMLSchema}double('0.29307950933225346'), Q{http://www.w3.org/2001/XMLSchema}double('0.9709658038469149'), Q{http://www.w3.org/2001/XMLSchema}double('0.3155634304152922'), Q{http://www.w3.org/2001/XMLSchema}double('0.9613422274431961'), Q{http://www.w3.org/2001/XMLSchema}double('0.9802994428258496'), Q{http://www.w3.org/2001/XMLSchema}double('0.09344541455833966'), Q{http://www.w3.org/2001/XMLSchema}double('0.15005108622948038'), Q{http://www.w3.org/2001/XMLSchema}double('0.7927669147538455'), Q{http://www.w3.org/2001/XMLSchema}double('0.938546973064923'), Q{http://www.w3.org/2001/XMLSchema}double('0.91738118366454'), Q{http://www.w3.org/2001/XMLSchema}double('0.46733883730189485'), Q{http://www.w3.org/2001/XMLSchema}double('0.5640233772411937'), Q{http://www.w3.org/2001/XMLSchema}double('0.8786401308765721'), Q{http://www.w3.org/2001/XMLSchema}double('0.6791848457972768'), Q{http://www.w3.org/2001/XMLSchema}double('0.6471815531975389'), Q{http://www.w3.org/2001/XMLSchema}double('0.5153817260200009'), Q{http://www.w3.org/2001/XMLSchema}double('0.9825119682419987'), Q{http://www.w3.org/2001/XMLSchema}double('0.9709723351803544'), Q{http://www.w3.org/2001/XMLSchema}double('0.3761349132060743'), Q{http://www.w3.org/2001/XMLSchema}double('0.03383854523828145'), Q{http://www.w3.org/2001/XMLSchema}double('0.08825793535926552'), Q{http://www.w3.org/2001/XMLSchema}double('0.3992202748251732'), Q{http://www.w3.org/2001/XMLSchema}double('0.4974439733367182'), Q{http://www.w3.org/2001/XMLSchema}double('0.2400127191467223'), Q{http://www.w3.org/2001/XMLSchema}double('0.39092539245645797'), Q{http://www.w3.org/2001/XMLSchema}double('0.3491082294353467'), Q{http://www.w3.org/2001/XMLSchema}double('0.45048432125053917'), Q{http://www.w3.org/2001/XMLSchema}double('0.9020232836332206'), Q{http://www.w3.org/2001/XMLSchema}double('0.22477083225468641'), Q{http://www.w3.org/2001/XMLSchema}double('0.879753903666467'), Q{http://www.w3.org/2001/XMLSchema}double('0.7920333724629224'), Q{http://www.w3.org/2001/XMLSchema}double('0.18620892742200224'), Q{http://www.w3.org/2001/XMLSchema}double('0.6252060590452846'), Q{http://www.w3.org/2001/XMLSchema}double('0.06373359741436191'), Q{http://www.w3.org/2001/XMLSchema}double('0.49596404884849477'), Q{http://www.w3.org/2001/XMLSchema}double('0.5020884320775917'), Q{http://www.w3.org/2001/XMLSchema}double('0.34547663443798904')"/>
      <x:test id="scenario2-expect1" successful="true">
         <x:label>Count should equal 100, ranging between 0 and 1</x:label>
         <x:expect test="count($x:result) eq 100 and min($x:result) gt 0 and max($x:result) lt 1"
                   select="()"/>
      </x:test>
   </x:scenario>
   <x:scenario id="scenario3" xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
      <x:label>Scenario for testing function get-weights-scale</x:label>
      <x:call function="djb:get-weights-scale"/>
      <x:scenario id="scenario3-scenario1"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with Gaussian kernel</x:label>
         <x:call>
            <x:param name="f:kernel" select="'gaussian'"/>
            <x:param name="f:window-size" select="$djb:window-size"/>
            <x:param name="f:stddev" select="5"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('0.9801986733067553'), Q{http://www.w3.org/2001/XMLSchema}double('0.9231163463866358'), Q{http://www.w3.org/2001/XMLSchema}double('0.835270211411272'), Q{http://www.w3.org/2001/XMLSchema}double('0.7261490370736909'), Q{http://www.w3.org/2001/XMLSchema}double('0.6065306597126334'), Q{http://www.w3.org/2001/XMLSchema}double('0.4867522559599717'), Q{http://www.w3.org/2001/XMLSchema}double('0.37531109885139957'), Q{http://www.w3.org/2001/XMLSchema}double('0.27803730045319414'), Q{http://www.w3.org/2001/XMLSchema}double('0.19789869908361465'), Q{http://www.w3.org/2001/XMLSchema}double('0.1353352832366127'), Q{http://www.w3.org/2001/XMLSchema}double('0.08892161745938634'), Q{http://www.w3.org/2001/XMLSchema}double('0.056134762834133725'), Q{http://www.w3.org/2001/XMLSchema}double('0.034047454734599344'), Q{http://www.w3.org/2001/XMLSchema}double('0.019841094744370288'), Q{http://www.w3.org/2001/XMLSchema}double('0.011108996538242306'), Q{http://www.w3.org/2001/XMLSchema}double('0.005976022895005943'), Q{http://www.w3.org/2001/XMLSchema}double('0.0030887154082367687')"/>
         <x:test id="scenario3-scenario1-expect1" successful="true">
            <x:label>desending Gaussian values (n = window-size + 1)</x:label>
            <x:expect select="1, 0.9801986733067553, 0.9231163463866358, 0.835270211411272, 0.7261490370736909, 0.6065306597126334, 0.4867522559599717, 0.37531109885139957, 0.27803730045319414, 0.19789869908361465, 0.1353352832366127, 0.08892161745938634, 0.056134762834133725, 0.034047454734599344, 0.019841094744370288, 0.011108996538242306, 0.005976022895005943, 0.0030887154082367687"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario3-scenario2"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with rectangular kernel</x:label>
         <x:call>
            <x:param name="f:kernel" select="'rectangular'"/>
            <x:param name="f:window-size" select="$djb:window-size"/>
            <x:param name="f:stddev" select="5"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('1')"/>
         <x:test id="scenario3-scenario2-expect1" successful="true">
            <x:label>rectangular values (n = window-size + 1)</x:label>
            <x:expect select="1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario3-scenario3"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with exponential kernel</x:label>
         <x:call>
            <x:param name="f:kernel" select="'exponential'"/>
            <x:param name="f:window-size" select="$djb:window-size"/>
            <x:param name="f:stddev" select="5"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('0.5'), Q{http://www.w3.org/2001/XMLSchema}double('0.25'), Q{http://www.w3.org/2001/XMLSchema}double('0.125'), Q{http://www.w3.org/2001/XMLSchema}double('0.0625'), Q{http://www.w3.org/2001/XMLSchema}double('0.03125'), Q{http://www.w3.org/2001/XMLSchema}double('0.015625'), Q{http://www.w3.org/2001/XMLSchema}double('0.0078125'), Q{http://www.w3.org/2001/XMLSchema}double('0.00390625'), Q{http://www.w3.org/2001/XMLSchema}double('0.001953125'), Q{http://www.w3.org/2001/XMLSchema}double('0.0009765625'), Q{http://www.w3.org/2001/XMLSchema}double('0.00048828125'), Q{http://www.w3.org/2001/XMLSchema}double('0.000244140625'), Q{http://www.w3.org/2001/XMLSchema}double('0.0001220703125'), Q{http://www.w3.org/2001/XMLSchema}double('0.00006103515625'), Q{http://www.w3.org/2001/XMLSchema}double('0.000030517578125'), Q{http://www.w3.org/2001/XMLSchema}double('0.0000152587890625'), Q{http://www.w3.org/2001/XMLSchema}double('0.00000762939453125')"/>
         <x:test id="scenario3-scenario3-expect1" successful="true">
            <x:label>exponential values</x:label>
            <x:expect select="1, 0.5, 0.25, 0.125, 0.0625, 0.03125, 0.015625, 0.0078125, 0.00390625, 0.001953125, 0.0009765625, 0.00048828125, 0.000244140625, 0.0001220703125, 0.00006103515625, 0.000030517578125, 0.0000152587890625, 0.00000762939453125"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario3-scenario4"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with parabolic-up kernel</x:label>
         <x:call>
            <x:param name="f:kernel" select="'parabolic-up'"/>
            <x:param name="f:window-size" select="$djb:window-size"/>
            <x:param name="f:stddev" select="5"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('0.8858131487889274'), Q{http://www.w3.org/2001/XMLSchema}double('0.7785467128027681'), Q{http://www.w3.org/2001/XMLSchema}double('0.6782006920415224'), Q{http://www.w3.org/2001/XMLSchema}double('0.5847750865051903'), Q{http://www.w3.org/2001/XMLSchema}double('0.4982698961937717'), Q{http://www.w3.org/2001/XMLSchema}double('0.41868512110726647'), Q{http://www.w3.org/2001/XMLSchema}double('0.34602076124567477'), Q{http://www.w3.org/2001/XMLSchema}double('0.28027681660899656'), Q{http://www.w3.org/2001/XMLSchema}double('0.22145328719723184'), Q{http://www.w3.org/2001/XMLSchema}double('0.1695501730103806'), Q{http://www.w3.org/2001/XMLSchema}double('0.12456747404844293'), Q{http://www.w3.org/2001/XMLSchema}double('0.08650519031141869'), Q{http://www.w3.org/2001/XMLSchema}double('0.05536332179930796'), Q{http://www.w3.org/2001/XMLSchema}double('0.031141868512110732'), Q{http://www.w3.org/2001/XMLSchema}double('0.01384083044982699'), Q{http://www.w3.org/2001/XMLSchema}double('0.0034602076124567475'), Q{http://www.w3.org/2001/XMLSchema}double('0')"/>
         <x:test id="scenario3-scenario4-expect1" successful="true">
            <x:label>parabolic values, opening up</x:label>
            <x:expect select="1, 0.8858131487889274, 0.7785467128027681, 0.6782006920415224, 0.5847750865051903, 0.4982698961937717, 0.41868512110726647, 0.34602076124567477, 0.28027681660899656, 0.22145328719723184, 0.1695501730103806, 0.12456747404844293, 0.08650519031141869, 0.05536332179930796, 0.031141868512110732, 0.01384083044982699, 0.0034602076124567475, 0"/>
         </x:test>
      </x:scenario>
      <x:scenario id="scenario3-scenario5"
                  xspec="file:/Users/djb/repos/plot/lib/plot-lib.xspec">
         <x:label>with parabolic-down kernel</x:label>
         <x:call>
            <x:param name="f:kernel" select="'parabolic-down'"/>
            <x:param name="f:window-size" select="$djb:window-size"/>
            <x:param name="f:stddev" select="5"/>
         </x:call>
         <x:result select="Q{http://www.w3.org/2001/XMLSchema}double('1'), Q{http://www.w3.org/2001/XMLSchema}double('0.9965397923875432'), Q{http://www.w3.org/2001/XMLSchema}double('0.986159169550173'), Q{http://www.w3.org/2001/XMLSchema}double('0.9688581314878892'), Q{http://www.w3.org/2001/XMLSchema}double('0.9446366782006921'), Q{http://www.w3.org/2001/XMLSchema}double('0.9134948096885813'), Q{http://www.w3.org/2001/XMLSchema}double('0.8754325259515571'), Q{http://www.w3.org/2001/XMLSchema}double('0.8304498269896194'), Q{http://www.w3.org/2001/XMLSchema}double('0.7785467128027681'), Q{http://www.w3.org/2001/XMLSchema}double('0.7197231833910034'), Q{http://www.w3.org/2001/XMLSchema}double('0.6539792387543253'), Q{http://www.w3.org/2001/XMLSchema}double('0.5813148788927336'), Q{http://www.w3.org/2001/XMLSchema}double('0.5017301038062283'), Q{http://www.w3.org/2001/XMLSchema}double('0.4152249134948097'), Q{http://www.w3.org/2001/XMLSchema}double('0.32179930795847755'), Q{http://www.w3.org/2001/XMLSchema}double('0.2214532871972319'), Q{http://www.w3.org/2001/XMLSchema}double('0.11418685121107264'), Q{http://www.w3.org/2001/XMLSchema}double('0')"/>
         <x:test id="scenario3-scenario5-expect1" successful="true">
            <x:label>parabolic values, opening down</x:label>
            <x:expect select="1, 0.9965397923875432, 0.986159169550173, 0.9688581314878892, 0.9446366782006921, 0.9134948096885813, 0.8754325259515571, 0.8304498269896194, 0.7785467128027681, 0.7197231833910034, 0.6539792387543253, 0.5813148788927336, 0.5017301038062283, 0.4152249134948097, 0.32179930795847755, 0.2214532871972319, 0.11418685121107264, 0"/>
         </x:test>
      </x:scenario>
   </x:scenario>
</x:report>
